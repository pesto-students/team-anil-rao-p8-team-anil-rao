{"ast":null,"code":"import { dsnToString, createEnvelope } from '@sentry/utils';\n\n/**\n * Creates an envelope from a user feedback.\n */\nfunction createUserFeedbackEnvelope(feedback, _ref) {\n  let {\n    metadata,\n    tunnel,\n    dsn\n  } = _ref;\n  const headers = {\n    event_id: feedback.event_id,\n    sent_at: new Date().toISOString(),\n    ...(metadata && metadata.sdk && {\n      sdk: {\n        name: metadata.sdk.name,\n        version: metadata.sdk.version\n      }\n    }),\n    ...(!!tunnel && !!dsn && {\n      dsn: dsnToString(dsn)\n    })\n  };\n  const item = createUserFeedbackEnvelopeItem(feedback);\n  return createEnvelope(headers, [item]);\n}\nfunction createUserFeedbackEnvelopeItem(feedback) {\n  const feedbackHeaders = {\n    type: 'user_report'\n  };\n  return [feedbackHeaders, feedback];\n}\nexport { createUserFeedbackEnvelope };","map":{"version":3,"names":["createUserFeedbackEnvelope","feedback","_ref","metadata","tunnel","dsn","headers","event_id","sent_at","Date","toISOString","sdk","name","version","dsnToString","item","createUserFeedbackEnvelopeItem","createEnvelope","feedbackHeaders","type"],"sources":["/Users/chirag_vaid/Desktop/Pesto/team-anil-rao-p8-team-anil-rao/node_modules/src/userfeedback.ts"],"sourcesContent":["import type { DsnComponents, EventEnvelope, SdkMetadata, UserFeedback, UserFeedbackItem } from '@sentry/types';\nimport { createEnvelope, dsnToString } from '@sentry/utils';\n\n/**\n * Creates an envelope from a user feedback.\n */\nexport function createUserFeedbackEnvelope(\n  feedback: UserFeedback,\n  {\n    metadata,\n    tunnel,\n    dsn,\n  }: {\n    metadata: SdkMetadata | undefined;\n    tunnel: string | undefined;\n    dsn: DsnComponents | undefined;\n  },\n): EventEnvelope {\n  const headers: EventEnvelope[0] = {\n    event_id: feedback.event_id,\n    sent_at: new Date().toISOString(),\n    ...(metadata &&\n      metadata.sdk && {\n        sdk: {\n          name: metadata.sdk.name,\n          version: metadata.sdk.version,\n        },\n      }),\n    ...(!!tunnel && !!dsn && { dsn: dsnToString(dsn) }),\n  };\n  const item = createUserFeedbackEnvelopeItem(feedback);\n\n  return createEnvelope(headers, [item]);\n}\n\nfunction createUserFeedbackEnvelopeItem(feedback: UserFeedback): UserFeedbackItem {\n  const feedbackHeaders: UserFeedbackItem[0] = {\n    type: 'user_report',\n  };\n  return [feedbackHeaders, feedback];\n}\n"],"mappings":";;AAGA;AACA;AACA;AACA,SAAAA,2BACAC,QAAA,EAAAC,IAAA,EAUA;EAAA,IATA;IACAC,QAAA;IACAC,MAAA;IACAC;EACA,IAAAH,IAAA;EAMA,MAAAI,OAAA;IACAC,QAAA,EAAAN,QAAA,CAAAM,QAAA;IACAC,OAAA,MAAAC,IAAA,GAAAC,WAAA;IACA,IAAAP,QAAA,IACAA,QAAA,CAAAQ,GAAA;MACAA,GAAA;QACAC,IAAA,EAAAT,QAAA,CAAAQ,GAAA,CAAAC,IAAA;QACAC,OAAA,EAAAV,QAAA,CAAAQ,GAAA,CAAAE;MACA;IACA;IACA,MAAAT,MAAA,MAAAC,GAAA;MAAAA,GAAA,EAAAS,WAAA,CAAAT,GAAA;IAAA;EACA;EACA,MAAAU,IAAA,GAAAC,8BAAA,CAAAf,QAAA;EAEA,OAAAgB,cAAA,CAAAX,OAAA,GAAAS,IAAA;AACA;AAEA,SAAAC,+BAAAf,QAAA;EACA,MAAAiB,eAAA;IACAC,IAAA;EACA;EACA,QAAAD,eAAA,EAAAjB,QAAA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}