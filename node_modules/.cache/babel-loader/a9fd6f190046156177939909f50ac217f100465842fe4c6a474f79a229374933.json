{"ast":null,"code":"import _classCallCheck from \"/Users/chirag_vaid/Desktop/Pesto/team-anil-rao-p8-team-anil-rao/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/chirag_vaid/Desktop/Pesto/team-anil-rao-p8-team-anil-rao/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { _optionalChain } from '@sentry/utils/esm/buildPolyfills';\nimport { loadModule, logger, fill, isThenable } from '@sentry/utils';\nimport { shouldDisableAutoInstrumentation } from './utils/node-utils.js';\n\n/** Tracing integration for graphql package */\nvar GraphQL = /*#__PURE__*/function () {\n  function GraphQL() {\n    _classCallCheck(this, GraphQL);\n    GraphQL.prototype.__init.call(this);\n  }\n  /**\n   * @inheritDoc\n   */\n  _createClass(GraphQL, [{\n    key: \"__init\",\n    value:\n    /**\n     * @inheritDoc\n     */\n    function __init() {\n      this.name = GraphQL.id;\n    }\n\n    /** @inheritdoc */\n  }, {\n    key: \"loadDependency\",\n    value: function loadDependency() {\n      return this._module = this._module || loadModule('graphql/execution/execute.js');\n    }\n\n    /**\n     * @inheritDoc\n     */\n  }, {\n    key: \"setupOnce\",\n    value: function setupOnce(_, getCurrentHub) {\n      if (shouldDisableAutoInstrumentation(getCurrentHub)) {\n        (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && logger.log('GraphQL Integration is skipped because of instrumenter configuration.');\n        return;\n      }\n      var pkg = this.loadDependency();\n      if (!pkg) {\n        (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && logger.error('GraphQL Integration was unable to require graphql/execution package.');\n        return;\n      }\n      fill(pkg, 'execute', function (orig) {\n        return function () {\n          var scope = getCurrentHub().getScope();\n          var parentSpan = _optionalChain([scope, 'optionalAccess', function (_2) {\n            return _2.getSpan;\n          }, 'call', function (_3) {\n            return _3();\n          }]);\n          var span = _optionalChain([parentSpan, 'optionalAccess', function (_4) {\n            return _4.startChild;\n          }, 'call', function (_5) {\n            return _5({\n              description: 'execute',\n              op: 'graphql.execute'\n            });\n          }]);\n          _optionalChain([scope, 'optionalAccess', function (_6) {\n            return _6.setSpan;\n          }, 'call', function (_7) {\n            return _7(span);\n          }]);\n          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n          }\n          var rv = orig.call.apply(orig, [this].concat(args));\n          if (isThenable(rv)) {\n            return rv.then(function (res) {\n              _optionalChain([span, 'optionalAccess', function (_8) {\n                return _8.finish;\n              }, 'call', function (_9) {\n                return _9();\n              }]);\n              _optionalChain([scope, 'optionalAccess', function (_10) {\n                return _10.setSpan;\n              }, 'call', function (_11) {\n                return _11(parentSpan);\n              }]);\n              return res;\n            });\n          }\n          _optionalChain([span, 'optionalAccess', function (_12) {\n            return _12.finish;\n          }, 'call', function (_13) {\n            return _13();\n          }]);\n          _optionalChain([scope, 'optionalAccess', function (_14) {\n            return _14.setSpan;\n          }, 'call', function (_15) {\n            return _15(parentSpan);\n          }]);\n          return rv;\n        };\n      });\n    }\n  }], [{\n    key: \"__initStatic\",\n    value: function __initStatic() {\n      this.id = 'GraphQL';\n    }\n  }]);\n  return GraphQL;\n}();\nGraphQL.__initStatic();\nexport { GraphQL };","map":{"version":3,"names":["GraphQL","_classCallCheck","prototype","__init","call","_createClass","key","value","name","id","loadDependency","_module","loadModule","setupOnce","_","getCurrentHub","shouldDisableAutoInstrumentation","__SENTRY_DEBUG__","logger","log","pkg","error","fill","orig","scope","getScope","parentSpan","_optionalChain","_2","getSpan","_3","span","_4","startChild","_5","description","op","_6","setSpan","_7","_len","arguments","length","args","Array","_key","rv","apply","concat","isThenable","then","res","_8","finish","_9","_10","_11","_12","_13","_14","_15","__initStatic"],"sources":["/Users/chirag_vaid/Desktop/Pesto/team-anil-rao-p8-team-anil-rao/node_modules/@sentry-internal/src/node/integrations/graphql.ts"],"sourcesContent":["import type { Hub } from '@sentry/core';\nimport type { EventProcessor } from '@sentry/types';\nimport { fill, isThenable, loadModule, logger } from '@sentry/utils';\n\nimport type { LazyLoadedIntegration } from './lazy';\nimport { shouldDisableAutoInstrumentation } from './utils/node-utils';\n\ntype GraphQLModule = {\n  [method: string]: (...args: unknown[]) => unknown;\n};\n\n/** Tracing integration for graphql package */\nexport class GraphQL implements LazyLoadedIntegration<GraphQLModule> {\n  /**\n   * @inheritDoc\n   */\n  public static id: string = 'GraphQL';\n\n  /**\n   * @inheritDoc\n   */\n  public name: string = GraphQL.id;\n\n  private _module?: GraphQLModule;\n\n  /** @inheritdoc */\n  public loadDependency(): GraphQLModule | undefined {\n    return (this._module = this._module || loadModule('graphql/execution/execute.js'));\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setupOnce(_: (callback: EventProcessor) => void, getCurrentHub: () => Hub): void {\n    if (shouldDisableAutoInstrumentation(getCurrentHub)) {\n      __DEBUG_BUILD__ && logger.log('GraphQL Integration is skipped because of instrumenter configuration.');\n      return;\n    }\n\n    const pkg = this.loadDependency();\n\n    if (!pkg) {\n      __DEBUG_BUILD__ && logger.error('GraphQL Integration was unable to require graphql/execution package.');\n      return;\n    }\n\n    fill(pkg, 'execute', function (orig: () => void | Promise<unknown>) {\n      return function (this: unknown, ...args: unknown[]) {\n        const scope = getCurrentHub().getScope();\n        const parentSpan = scope?.getSpan();\n\n        const span = parentSpan?.startChild({\n          description: 'execute',\n          op: 'graphql.execute',\n        });\n\n        scope?.setSpan(span);\n\n        const rv = orig.call(this, ...args);\n\n        if (isThenable(rv)) {\n          return rv.then((res: unknown) => {\n            span?.finish();\n            scope?.setSpan(parentSpan);\n\n            return res;\n          });\n        }\n\n        span?.finish();\n        scope?.setSpan(parentSpan);\n        return rv;\n      };\n    });\n  }\n}\n"],"mappings":";;;;;;AAWA;AAAA,IACAA,OAAA;EAAA,SAAAA,QAAA;IAAAC,eAAA,OAAAD,OAAA;IAAAA,OAAA,CAAAE,SAAA,CAAAC,MAAA,CAAAC,IAAA;EAAA;EACA;;;EAAAC,YAAA,CAAAL,OAAA;IAAAM,GAAA;IAAAC,KAAA;IAKA;;;IAGA,SAAAJ,OAAA;MAAA,KAAAK,IAAA,GAAAR,OAAA,CAAAS,EAAA;IAAA;;IAIA;EAAA;IAAAH,GAAA;IAAAC,KAAA,EACA,SAAAG,eAAA;MACA,YAAAC,OAAA,QAAAA,OAAA,IAAAC,UAAA;IACA;;IAEA;;;EAAA;IAAAN,GAAA;IAAAC,KAAA,EAGA,SAAAM,UAAAC,CAAA,EAAAC,aAAA;MACA,IAAAC,gCAAA,CAAAD,aAAA;QACA,QAAAE,gBAAA,oBAAAA,gBAAA,KAAAC,MAAA,CAAAC,GAAA;QACA;MACA;MAEA,IAAAC,GAAA,QAAAV,cAAA;MAEA,KAAAU,GAAA;QACA,QAAAH,gBAAA,oBAAAA,gBAAA,KAAAC,MAAA,CAAAG,KAAA;QACA;MACA;MAEAC,IAAA,CAAAF,GAAA,uBAAAG,IAAA;QACA;UACA,IAAAC,KAAA,GAAAT,aAAA,GAAAU,QAAA;UACA,IAAAC,UAAA,GAAAC,cAAA,EAAAH,KAAA,8BAAAI,EAAA;YAAA,OAAAA,EAAA,CAAAC,OAAA;UAAA,qBAAAC,EAAA;YAAA,OAAAA,EAAA;UAAA;UAEA,IAAAC,IAAA,GAAAJ,cAAA,EAAAD,UAAA,8BAAAM,EAAA;YAAA,OAAAA,EAAA,CAAAC,UAAA;UAAA,qBAAAC,EAAA;YAAA,OAAAA,EAAA;cACAC,WAAA;cACAC,EAAA;YACA;UAAA;UAEAT,cAAA,EAAAH,KAAA,8BAAAa,EAAA;YAAA,OAAAA,EAAA,CAAAC,OAAA;UAAA,qBAAAC,EAAA;YAAA,OAAAA,EAAA,CAAAR,IAAA;UAAA;UAAA,SAAAS,IAAA,GAAAC,SAAA,CAAAC,MAAA,EATAC,IAAA,OAAAC,KAAA,CAAAJ,IAAA,GAAAK,IAAA,MAAAA,IAAA,GAAAL,IAAA,EAAAK,IAAA;YAAAF,IAAA,CAAAE,IAAA,IAAAJ,SAAA,CAAAI,IAAA;UAAA;UAWA,IAAAC,EAAA,GAAAvB,IAAA,CAAAnB,IAAA,CAAA2C,KAAA,CAAAxB,IAAA,SAAAyB,MAAA,CAAAL,IAAA;UAEA,IAAAM,UAAA,CAAAH,EAAA;YACA,OAAAA,EAAA,CAAAI,IAAA,WAAAC,GAAA;cACAxB,cAAA,EAAAI,IAAA,8BAAAqB,EAAA;gBAAA,OAAAA,EAAA,CAAAC,MAAA;cAAA,qBAAAC,EAAA;gBAAA,OAAAA,EAAA;cAAA;cACA3B,cAAA,EAAAH,KAAA,8BAAA+B,GAAA;gBAAA,OAAAA,GAAA,CAAAjB,OAAA;cAAA,qBAAAkB,GAAA;gBAAA,OAAAA,GAAA,CAAA9B,UAAA;cAAA;cAEA,OAAAyB,GAAA;YACA;UACA;UAEAxB,cAAA,EAAAI,IAAA,8BAAA0B,GAAA;YAAA,OAAAA,GAAA,CAAAJ,MAAA;UAAA,qBAAAK,GAAA;YAAA,OAAAA,GAAA;UAAA;UACA/B,cAAA,EAAAH,KAAA,8BAAAmC,GAAA;YAAA,OAAAA,GAAA,CAAArB,OAAA;UAAA,qBAAAsB,GAAA;YAAA,OAAAA,GAAA,CAAAlC,UAAA;UAAA;UACA,OAAAoB,EAAA;QACA;MACA;IACA;EAAA;IAAAxC,GAAA;IAAAC,KAAA,EA1DA,SAAAsD,aAAA;MAAA,KAAApD,EAAA;IAAA;EAAA;EAAA,OAAAT,OAAA;AAAA;AA2DAA,OAAA,CAAA6D,YAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}