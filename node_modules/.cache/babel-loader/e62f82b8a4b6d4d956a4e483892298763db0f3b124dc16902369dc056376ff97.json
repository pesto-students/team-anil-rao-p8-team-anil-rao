{"ast":null,"code":"import _createForOfIteratorHelper from \"/Users/chirag_vaid/Desktop/Pesto/team-anil-rao-p8-team-anil-rao/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport { getActiveTransaction } from '@sentry/core';\nimport { browserPerformanceTimeOrigin, logger, htmlTreeAsString } from '@sentry/utils';\nimport { WINDOW } from '../types.js';\nimport { onCLS } from '../web-vitals/getCLS.js';\nimport { onFID } from '../web-vitals/getFID.js';\nimport { onLCP } from '../web-vitals/getLCP.js';\nimport { getVisibilityWatcher } from '../web-vitals/lib/getVisibilityWatcher.js';\nimport { observe } from '../web-vitals/lib/observe.js';\nimport { _startChild, isMeasurementValue } from './utils.js';\n\n/**\n * Converts from milliseconds to seconds\n * @param time time in ms\n */\nfunction msToSec(time) {\n  return time / 1000;\n}\nfunction getBrowserPerformanceAPI() {\n  // @ts-ignore we want to make sure all of these are available, even if TS is sure they are\n  return WINDOW && WINDOW.addEventListener && WINDOW.performance;\n}\nvar _performanceCursor = 0;\nvar _measurements = {};\nvar _lcpEntry;\nvar _clsEntry;\n\n/**\n * Start tracking web vitals\n *\n * @returns A function that forces web vitals collection\n */\nfunction startTrackingWebVitals() {\n  var performance = getBrowserPerformanceAPI();\n  if (performance && browserPerformanceTimeOrigin) {\n    // @ts-ignore we want to make sure all of these are available, even if TS is sure they are\n    if (performance.mark) {\n      WINDOW.performance.mark('sentry-tracing-init');\n    }\n    _trackFID();\n    var clsCallback = _trackCLS();\n    var lcpCallback = _trackLCP();\n    return function () {\n      if (clsCallback) {\n        clsCallback();\n      }\n      if (lcpCallback) {\n        lcpCallback();\n      }\n    };\n  }\n  return function () {\n    return undefined;\n  };\n}\n\n/**\n * Start tracking long tasks.\n */\nfunction startTrackingLongTasks() {\n  var entryHandler = function entryHandler(entries) {\n    var _iterator = _createForOfIteratorHelper(entries),\n      _step;\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var entry = _step.value;\n        var transaction = getActiveTransaction();\n        if (!transaction) {\n          return;\n        }\n        var startTime = msToSec(browserPerformanceTimeOrigin + entry.startTime);\n        var duration = msToSec(entry.duration);\n        transaction.startChild({\n          description: 'Main UI thread blocked',\n          op: 'ui.long-task',\n          startTimestamp: startTime,\n          endTimestamp: startTime + duration\n        });\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  };\n  observe('longtask', entryHandler);\n}\n\n/**\n * Start tracking interaction events.\n */\nfunction startTrackingInteractions() {\n  var entryHandler = function entryHandler(entries) {\n    var _iterator2 = _createForOfIteratorHelper(entries),\n      _step2;\n    try {\n      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n        var entry = _step2.value;\n        var transaction = getActiveTransaction();\n        if (!transaction) {\n          return;\n        }\n        if (entry.name === 'click') {\n          var startTime = msToSec(browserPerformanceTimeOrigin + entry.startTime);\n          var duration = msToSec(entry.duration);\n          transaction.startChild({\n            description: htmlTreeAsString(entry.target),\n            op: \"ui.interaction.\".concat(entry.name),\n            startTimestamp: startTime,\n            endTimestamp: startTime + duration\n          });\n        }\n      }\n    } catch (err) {\n      _iterator2.e(err);\n    } finally {\n      _iterator2.f();\n    }\n  };\n  observe('event', entryHandler, {\n    durationThreshold: 0\n  });\n}\n\n/** Starts tracking the Cumulative Layout Shift on the current page. */\nfunction _trackCLS() {\n  // See:\n  // https://web.dev/evolving-cls/\n  // https://web.dev/cls-web-tooling/\n  return onCLS(function (metric) {\n    var entry = metric.entries.pop();\n    if (!entry) {\n      return;\n    }\n    (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && logger.log('[Measurements] Adding CLS');\n    _measurements['cls'] = {\n      value: metric.value,\n      unit: ''\n    };\n    _clsEntry = entry;\n  });\n}\n\n/** Starts tracking the Largest Contentful Paint on the current page. */\nfunction _trackLCP() {\n  return onLCP(function (metric) {\n    var entry = metric.entries.pop();\n    if (!entry) {\n      return;\n    }\n    (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && logger.log('[Measurements] Adding LCP');\n    _measurements['lcp'] = {\n      value: metric.value,\n      unit: 'millisecond'\n    };\n    _lcpEntry = entry;\n  });\n}\n\n/** Starts tracking the First Input Delay on the current page. */\nfunction _trackFID() {\n  onFID(function (metric) {\n    var entry = metric.entries.pop();\n    if (!entry) {\n      return;\n    }\n    var timeOrigin = msToSec(browserPerformanceTimeOrigin);\n    var startTime = msToSec(entry.startTime);\n    (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && logger.log('[Measurements] Adding FID');\n    _measurements['fid'] = {\n      value: metric.value,\n      unit: 'millisecond'\n    };\n    _measurements['mark.fid'] = {\n      value: timeOrigin + startTime,\n      unit: 'second'\n    };\n  });\n}\n\n/** Add performance related spans to a transaction */\nfunction addPerformanceEntries(transaction) {\n  var performance = getBrowserPerformanceAPI();\n  if (!performance || !WINDOW.performance.getEntries || !browserPerformanceTimeOrigin) {\n    // Gatekeeper if performance API not available\n    return;\n  }\n  (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && logger.log('[Tracing] Adding & adjusting spans using Performance API');\n  var timeOrigin = msToSec(browserPerformanceTimeOrigin);\n  var performanceEntries = performance.getEntries();\n  var responseStartTimestamp;\n  var requestStartTimestamp;\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  performanceEntries.slice(_performanceCursor).forEach(function (entry) {\n    var startTime = msToSec(entry.startTime);\n    var duration = msToSec(entry.duration);\n    if (transaction.op === 'navigation' && timeOrigin + startTime < transaction.startTimestamp) {\n      return;\n    }\n    switch (entry.entryType) {\n      case 'navigation':\n        {\n          _addNavigationSpans(transaction, entry, timeOrigin);\n          responseStartTimestamp = timeOrigin + msToSec(entry.responseStart);\n          requestStartTimestamp = timeOrigin + msToSec(entry.requestStart);\n          break;\n        }\n      case 'mark':\n      case 'paint':\n      case 'measure':\n        {\n          _addMeasureSpans(transaction, entry, startTime, duration, timeOrigin);\n\n          // capture web vitals\n          var firstHidden = getVisibilityWatcher();\n          // Only report if the page wasn't hidden prior to the web vital.\n          var shouldRecord = entry.startTime < firstHidden.firstHiddenTime;\n          if (entry.name === 'first-paint' && shouldRecord) {\n            (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && logger.log('[Measurements] Adding FP');\n            _measurements['fp'] = {\n              value: entry.startTime,\n              unit: 'millisecond'\n            };\n          }\n          if (entry.name === 'first-contentful-paint' && shouldRecord) {\n            (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && logger.log('[Measurements] Adding FCP');\n            _measurements['fcp'] = {\n              value: entry.startTime,\n              unit: 'millisecond'\n            };\n          }\n          break;\n        }\n      case 'resource':\n        {\n          var resourceName = entry.name.replace(WINDOW.location.origin, '');\n          _addResourceSpans(transaction, entry, resourceName, startTime, duration, timeOrigin);\n          break;\n        }\n      // Ignore other entry types.\n    }\n  });\n\n  _performanceCursor = Math.max(performanceEntries.length - 1, 0);\n  _trackNavigator(transaction);\n\n  // Measurements are only available for pageload transactions\n  if (transaction.op === 'pageload') {\n    // Generate TTFB (Time to First Byte), which measured as the time between the beginning of the transaction and the\n    // start of the response in milliseconds\n    if (typeof responseStartTimestamp === 'number') {\n      (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && logger.log('[Measurements] Adding TTFB');\n      _measurements['ttfb'] = {\n        value: (responseStartTimestamp - transaction.startTimestamp) * 1000,\n        unit: 'millisecond'\n      };\n      if (typeof requestStartTimestamp === 'number' && requestStartTimestamp <= responseStartTimestamp) {\n        // Capture the time spent making the request and receiving the first byte of the response.\n        // This is the time between the start of the request and the start of the response in milliseconds.\n        _measurements['ttfb.requestTime'] = {\n          value: (responseStartTimestamp - requestStartTimestamp) * 1000,\n          unit: 'millisecond'\n        };\n      }\n    }\n    ['fcp', 'fp', 'lcp'].forEach(function (name) {\n      if (!_measurements[name] || timeOrigin >= transaction.startTimestamp) {\n        return;\n      }\n      // The web vitals, fcp, fp, lcp, and ttfb, all measure relative to timeOrigin.\n      // Unfortunately, timeOrigin is not captured within the transaction span data, so these web vitals will need\n      // to be adjusted to be relative to transaction.startTimestamp.\n      var oldValue = _measurements[name].value;\n      var measurementTimestamp = timeOrigin + msToSec(oldValue);\n\n      // normalizedValue should be in milliseconds\n      var normalizedValue = Math.abs((measurementTimestamp - transaction.startTimestamp) * 1000);\n      var delta = normalizedValue - oldValue;\n      (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && logger.log(\"[Measurements] Normalized \".concat(name, \" from \").concat(oldValue, \" to \").concat(normalizedValue, \" (\").concat(delta, \")\"));\n      _measurements[name].value = normalizedValue;\n    });\n    var fidMark = _measurements['mark.fid'];\n    if (fidMark && _measurements['fid']) {\n      // create span for FID\n      _startChild(transaction, {\n        description: 'first input delay',\n        endTimestamp: fidMark.value + msToSec(_measurements['fid'].value),\n        op: 'ui.action',\n        startTimestamp: fidMark.value\n      });\n\n      // Delete mark.fid as we don't want it to be part of final payload\n      delete _measurements['mark.fid'];\n    }\n\n    // If FCP is not recorded we should not record the cls value\n    // according to the new definition of CLS.\n    if (!('fcp' in _measurements)) {\n      delete _measurements.cls;\n    }\n    Object.keys(_measurements).forEach(function (measurementName) {\n      transaction.setMeasurement(measurementName, _measurements[measurementName].value, _measurements[measurementName].unit);\n    });\n    _tagMetricInfo(transaction);\n  }\n  _lcpEntry = undefined;\n  _clsEntry = undefined;\n  _measurements = {};\n}\n\n/** Create measure related spans */\nfunction _addMeasureSpans(transaction,\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nentry, startTime, duration, timeOrigin) {\n  var measureStartTimestamp = timeOrigin + startTime;\n  var measureEndTimestamp = measureStartTimestamp + duration;\n  _startChild(transaction, {\n    description: entry.name,\n    endTimestamp: measureEndTimestamp,\n    op: entry.entryType,\n    startTimestamp: measureStartTimestamp\n  });\n  return measureStartTimestamp;\n}\n\n/** Instrument navigation entries */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction _addNavigationSpans(transaction, entry, timeOrigin) {\n  ['unloadEvent', 'redirect', 'domContentLoadedEvent', 'loadEvent', 'connect'].forEach(function (event) {\n    _addPerformanceNavigationTiming(transaction, entry, event, timeOrigin);\n  });\n  _addPerformanceNavigationTiming(transaction, entry, 'secureConnection', timeOrigin, 'TLS/SSL', 'connectEnd');\n  _addPerformanceNavigationTiming(transaction, entry, 'fetch', timeOrigin, 'cache', 'domainLookupStart');\n  _addPerformanceNavigationTiming(transaction, entry, 'domainLookup', timeOrigin, 'DNS');\n  _addRequest(transaction, entry, timeOrigin);\n}\n\n/** Create performance navigation related spans */\nfunction _addPerformanceNavigationTiming(transaction,\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nentry, event, timeOrigin, description, eventEnd) {\n  var end = eventEnd ? entry[eventEnd] : entry[\"\".concat(event, \"End\")];\n  var start = entry[\"\".concat(event, \"Start\")];\n  if (!start || !end) {\n    return;\n  }\n  _startChild(transaction, {\n    op: 'browser',\n    description: description || event,\n    startTimestamp: timeOrigin + msToSec(start),\n    endTimestamp: timeOrigin + msToSec(end)\n  });\n}\n\n/** Create request and response related spans */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction _addRequest(transaction, entry, timeOrigin) {\n  _startChild(transaction, {\n    op: 'browser',\n    description: 'request',\n    startTimestamp: timeOrigin + msToSec(entry.requestStart),\n    endTimestamp: timeOrigin + msToSec(entry.responseEnd)\n  });\n  _startChild(transaction, {\n    op: 'browser',\n    description: 'response',\n    startTimestamp: timeOrigin + msToSec(entry.responseStart),\n    endTimestamp: timeOrigin + msToSec(entry.responseEnd)\n  });\n}\n\n/** Create resource-related spans */\nfunction _addResourceSpans(transaction, entry, resourceName, startTime, duration, timeOrigin) {\n  // we already instrument based on fetch and xhr, so we don't need to\n  // duplicate spans here.\n  if (entry.initiatorType === 'xmlhttprequest' || entry.initiatorType === 'fetch') {\n    return;\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  var data = {};\n  if ('transferSize' in entry) {\n    data['http.response_transfer_size'] = entry.transferSize;\n  }\n  if ('encodedBodySize' in entry) {\n    data['http.response_content_length'] = entry.encodedBodySize;\n  }\n  if ('decodedBodySize' in entry) {\n    data['http.decoded_response_content_length'] = entry.decodedBodySize;\n  }\n  if ('renderBlockingStatus' in entry) {\n    data['resource.render_blocking_status'] = entry.renderBlockingStatus;\n  }\n  var startTimestamp = timeOrigin + startTime;\n  var endTimestamp = startTimestamp + duration;\n  _startChild(transaction, {\n    description: resourceName,\n    endTimestamp: endTimestamp,\n    op: entry.initiatorType ? \"resource.\".concat(entry.initiatorType) : 'resource.other',\n    startTimestamp: startTimestamp,\n    data: data\n  });\n}\n\n/**\n * Capture the information of the user agent.\n */\nfunction _trackNavigator(transaction) {\n  var navigator = WINDOW.navigator;\n  if (!navigator) {\n    return;\n  }\n\n  // track network connectivity\n  var connection = navigator.connection;\n  if (connection) {\n    if (connection.effectiveType) {\n      transaction.setTag('effectiveConnectionType', connection.effectiveType);\n    }\n    if (connection.type) {\n      transaction.setTag('connectionType', connection.type);\n    }\n    if (isMeasurementValue(connection.rtt)) {\n      _measurements['connection.rtt'] = {\n        value: connection.rtt,\n        unit: 'millisecond'\n      };\n    }\n  }\n  if (isMeasurementValue(navigator.deviceMemory)) {\n    transaction.setTag('deviceMemory', \"\".concat(navigator.deviceMemory, \" GB\"));\n  }\n  if (isMeasurementValue(navigator.hardwareConcurrency)) {\n    transaction.setTag('hardwareConcurrency', String(navigator.hardwareConcurrency));\n  }\n}\n\n/** Add LCP / CLS data to transaction to allow debugging */\nfunction _tagMetricInfo(transaction) {\n  if (_lcpEntry) {\n    (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && logger.log('[Measurements] Adding LCP Data');\n\n    // Capture Properties of the LCP element that contributes to the LCP.\n\n    if (_lcpEntry.element) {\n      transaction.setTag('lcp.element', htmlTreeAsString(_lcpEntry.element));\n    }\n    if (_lcpEntry.id) {\n      transaction.setTag('lcp.id', _lcpEntry.id);\n    }\n    if (_lcpEntry.url) {\n      // Trim URL to the first 200 characters.\n      transaction.setTag('lcp.url', _lcpEntry.url.trim().slice(0, 200));\n    }\n    transaction.setTag('lcp.size', _lcpEntry.size);\n  }\n\n  // See: https://developer.mozilla.org/en-US/docs/Web/API/LayoutShift\n  if (_clsEntry && _clsEntry.sources) {\n    (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && logger.log('[Measurements] Adding CLS Data');\n    _clsEntry.sources.forEach(function (source, index) {\n      return transaction.setTag(\"cls.source.\".concat(index + 1), htmlTreeAsString(source.node));\n    });\n  }\n}\nexport { _addMeasureSpans, _addResourceSpans, addPerformanceEntries, startTrackingInteractions, startTrackingLongTasks, startTrackingWebVitals };","map":{"version":3,"names":["msToSec","time","getBrowserPerformanceAPI","WINDOW","addEventListener","performance","_performanceCursor","_measurements","_lcpEntry","_clsEntry","startTrackingWebVitals","browserPerformanceTimeOrigin","mark","_trackFID","clsCallback","_trackCLS","lcpCallback","_trackLCP","undefined","startTrackingLongTasks","entryHandler","entries","_iterator","_createForOfIteratorHelper","_step","s","n","done","entry","value","transaction","getActiveTransaction","startTime","duration","startChild","description","op","startTimestamp","endTimestamp","err","e","f","observe","startTrackingInteractions","_iterator2","_step2","name","htmlTreeAsString","target","concat","durationThreshold","onCLS","metric","pop","__SENTRY_DEBUG__","logger","log","unit","onLCP","onFID","timeOrigin","addPerformanceEntries","getEntries","performanceEntries","responseStartTimestamp","requestStartTimestamp","slice","forEach","entryType","_addNavigationSpans","responseStart","requestStart","_addMeasureSpans","firstHidden","getVisibilityWatcher","shouldRecord","firstHiddenTime","resourceName","replace","location","origin","_addResourceSpans","Math","max","length","_trackNavigator","oldValue","measurementTimestamp","normalizedValue","abs","delta","fidMark","_startChild","cls","Object","keys","measurementName","setMeasurement","_tagMetricInfo","measureStartTimestamp","measureEndTimestamp","event","_addPerformanceNavigationTiming","_addRequest","eventEnd","end","start","responseEnd","initiatorType","data","transferSize","encodedBodySize","decodedBodySize","renderBlockingStatus","navigator","connection","effectiveType","setTag","type","isMeasurementValue","rtt","deviceMemory","hardwareConcurrency","String","element","id","url","trim","size","sources","source","index","node"],"sources":["/Users/chirag_vaid/Desktop/Pesto/team-anil-rao-p8-team-anil-rao/node_modules/@sentry-internal/src/browser/metrics/index.ts"],"sourcesContent":["/* eslint-disable max-lines */\nimport type { IdleTransaction, Transaction } from '@sentry/core';\nimport { getActiveTransaction } from '@sentry/core';\nimport type { Measurements } from '@sentry/types';\nimport { browserPerformanceTimeOrigin, htmlTreeAsString, logger } from '@sentry/utils';\n\nimport { WINDOW } from '../types';\nimport { onCLS } from '../web-vitals/getCLS';\nimport { onFID } from '../web-vitals/getFID';\nimport { onLCP } from '../web-vitals/getLCP';\nimport { getVisibilityWatcher } from '../web-vitals/lib/getVisibilityWatcher';\nimport { observe } from '../web-vitals/lib/observe';\nimport type { NavigatorDeviceMemory, NavigatorNetworkInformation } from '../web-vitals/types';\nimport { _startChild, isMeasurementValue } from './utils';\n\n/**\n * Converts from milliseconds to seconds\n * @param time time in ms\n */\nfunction msToSec(time: number): number {\n  return time / 1000;\n}\n\nfunction getBrowserPerformanceAPI(): Performance | undefined {\n  // @ts-ignore we want to make sure all of these are available, even if TS is sure they are\n  return WINDOW && WINDOW.addEventListener && WINDOW.performance;\n}\n\nlet _performanceCursor: number = 0;\n\nlet _measurements: Measurements = {};\nlet _lcpEntry: LargestContentfulPaint | undefined;\nlet _clsEntry: LayoutShift | undefined;\n\n/**\n * Start tracking web vitals\n *\n * @returns A function that forces web vitals collection\n */\nexport function startTrackingWebVitals(): () => void {\n  const performance = getBrowserPerformanceAPI();\n  if (performance && browserPerformanceTimeOrigin) {\n    // @ts-ignore we want to make sure all of these are available, even if TS is sure they are\n    if (performance.mark) {\n      WINDOW.performance.mark('sentry-tracing-init');\n    }\n    _trackFID();\n    const clsCallback = _trackCLS();\n    const lcpCallback = _trackLCP();\n\n    return (): void => {\n      if (clsCallback) {\n        clsCallback();\n      }\n      if (lcpCallback) {\n        lcpCallback();\n      }\n    };\n  }\n\n  return () => undefined;\n}\n\n/**\n * Start tracking long tasks.\n */\nexport function startTrackingLongTasks(): void {\n  const entryHandler = (entries: PerformanceEntry[]): void => {\n    for (const entry of entries) {\n      const transaction = getActiveTransaction() as IdleTransaction | undefined;\n      if (!transaction) {\n        return;\n      }\n      const startTime = msToSec((browserPerformanceTimeOrigin as number) + entry.startTime);\n      const duration = msToSec(entry.duration);\n\n      transaction.startChild({\n        description: 'Main UI thread blocked',\n        op: 'ui.long-task',\n        startTimestamp: startTime,\n        endTimestamp: startTime + duration,\n      });\n    }\n  };\n\n  observe('longtask', entryHandler);\n}\n\n/**\n * Start tracking interaction events.\n */\nexport function startTrackingInteractions(): void {\n  const entryHandler = (entries: PerformanceEventTiming[]): void => {\n    for (const entry of entries) {\n      const transaction = getActiveTransaction() as IdleTransaction | undefined;\n      if (!transaction) {\n        return;\n      }\n\n      if (entry.name === 'click') {\n        const startTime = msToSec((browserPerformanceTimeOrigin as number) + entry.startTime);\n        const duration = msToSec(entry.duration);\n\n        transaction.startChild({\n          description: htmlTreeAsString(entry.target),\n          op: `ui.interaction.${entry.name}`,\n          startTimestamp: startTime,\n          endTimestamp: startTime + duration,\n        });\n      }\n    }\n  };\n\n  observe('event', entryHandler, { durationThreshold: 0 });\n}\n\n/** Starts tracking the Cumulative Layout Shift on the current page. */\nfunction _trackCLS(): ReturnType<typeof onCLS> {\n  // See:\n  // https://web.dev/evolving-cls/\n  // https://web.dev/cls-web-tooling/\n  return onCLS(metric => {\n    const entry = metric.entries.pop();\n    if (!entry) {\n      return;\n    }\n\n    __DEBUG_BUILD__ && logger.log('[Measurements] Adding CLS');\n    _measurements['cls'] = { value: metric.value, unit: '' };\n    _clsEntry = entry as LayoutShift;\n  });\n}\n\n/** Starts tracking the Largest Contentful Paint on the current page. */\nfunction _trackLCP(): ReturnType<typeof onLCP> {\n  return onLCP(metric => {\n    const entry = metric.entries.pop();\n    if (!entry) {\n      return;\n    }\n\n    __DEBUG_BUILD__ && logger.log('[Measurements] Adding LCP');\n    _measurements['lcp'] = { value: metric.value, unit: 'millisecond' };\n    _lcpEntry = entry as LargestContentfulPaint;\n  });\n}\n\n/** Starts tracking the First Input Delay on the current page. */\nfunction _trackFID(): void {\n  onFID(metric => {\n    const entry = metric.entries.pop();\n    if (!entry) {\n      return;\n    }\n\n    const timeOrigin = msToSec(browserPerformanceTimeOrigin as number);\n    const startTime = msToSec(entry.startTime);\n    __DEBUG_BUILD__ && logger.log('[Measurements] Adding FID');\n    _measurements['fid'] = { value: metric.value, unit: 'millisecond' };\n    _measurements['mark.fid'] = { value: timeOrigin + startTime, unit: 'second' };\n  });\n}\n\n/** Add performance related spans to a transaction */\nexport function addPerformanceEntries(transaction: Transaction): void {\n  const performance = getBrowserPerformanceAPI();\n  if (!performance || !WINDOW.performance.getEntries || !browserPerformanceTimeOrigin) {\n    // Gatekeeper if performance API not available\n    return;\n  }\n\n  __DEBUG_BUILD__ && logger.log('[Tracing] Adding & adjusting spans using Performance API');\n  const timeOrigin = msToSec(browserPerformanceTimeOrigin);\n\n  const performanceEntries = performance.getEntries();\n\n  let responseStartTimestamp: number | undefined;\n  let requestStartTimestamp: number | undefined;\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  performanceEntries.slice(_performanceCursor).forEach((entry: Record<string, any>) => {\n    const startTime = msToSec(entry.startTime);\n    const duration = msToSec(entry.duration);\n\n    if (transaction.op === 'navigation' && timeOrigin + startTime < transaction.startTimestamp) {\n      return;\n    }\n\n    switch (entry.entryType) {\n      case 'navigation': {\n        _addNavigationSpans(transaction, entry, timeOrigin);\n        responseStartTimestamp = timeOrigin + msToSec(entry.responseStart);\n        requestStartTimestamp = timeOrigin + msToSec(entry.requestStart);\n        break;\n      }\n      case 'mark':\n      case 'paint':\n      case 'measure': {\n        _addMeasureSpans(transaction, entry, startTime, duration, timeOrigin);\n\n        // capture web vitals\n        const firstHidden = getVisibilityWatcher();\n        // Only report if the page wasn't hidden prior to the web vital.\n        const shouldRecord = entry.startTime < firstHidden.firstHiddenTime;\n\n        if (entry.name === 'first-paint' && shouldRecord) {\n          __DEBUG_BUILD__ && logger.log('[Measurements] Adding FP');\n          _measurements['fp'] = { value: entry.startTime, unit: 'millisecond' };\n        }\n        if (entry.name === 'first-contentful-paint' && shouldRecord) {\n          __DEBUG_BUILD__ && logger.log('[Measurements] Adding FCP');\n          _measurements['fcp'] = { value: entry.startTime, unit: 'millisecond' };\n        }\n        break;\n      }\n      case 'resource': {\n        const resourceName = (entry.name as string).replace(WINDOW.location.origin, '');\n        _addResourceSpans(transaction, entry, resourceName, startTime, duration, timeOrigin);\n        break;\n      }\n      default:\n      // Ignore other entry types.\n    }\n  });\n\n  _performanceCursor = Math.max(performanceEntries.length - 1, 0);\n\n  _trackNavigator(transaction);\n\n  // Measurements are only available for pageload transactions\n  if (transaction.op === 'pageload') {\n    // Generate TTFB (Time to First Byte), which measured as the time between the beginning of the transaction and the\n    // start of the response in milliseconds\n    if (typeof responseStartTimestamp === 'number') {\n      __DEBUG_BUILD__ && logger.log('[Measurements] Adding TTFB');\n      _measurements['ttfb'] = {\n        value: (responseStartTimestamp - transaction.startTimestamp) * 1000,\n        unit: 'millisecond',\n      };\n\n      if (typeof requestStartTimestamp === 'number' && requestStartTimestamp <= responseStartTimestamp) {\n        // Capture the time spent making the request and receiving the first byte of the response.\n        // This is the time between the start of the request and the start of the response in milliseconds.\n        _measurements['ttfb.requestTime'] = {\n          value: (responseStartTimestamp - requestStartTimestamp) * 1000,\n          unit: 'millisecond',\n        };\n      }\n    }\n\n    ['fcp', 'fp', 'lcp'].forEach(name => {\n      if (!_measurements[name] || timeOrigin >= transaction.startTimestamp) {\n        return;\n      }\n      // The web vitals, fcp, fp, lcp, and ttfb, all measure relative to timeOrigin.\n      // Unfortunately, timeOrigin is not captured within the transaction span data, so these web vitals will need\n      // to be adjusted to be relative to transaction.startTimestamp.\n      const oldValue = _measurements[name].value;\n      const measurementTimestamp = timeOrigin + msToSec(oldValue);\n\n      // normalizedValue should be in milliseconds\n      const normalizedValue = Math.abs((measurementTimestamp - transaction.startTimestamp) * 1000);\n      const delta = normalizedValue - oldValue;\n\n      __DEBUG_BUILD__ &&\n        logger.log(`[Measurements] Normalized ${name} from ${oldValue} to ${normalizedValue} (${delta})`);\n      _measurements[name].value = normalizedValue;\n    });\n\n    const fidMark = _measurements['mark.fid'];\n    if (fidMark && _measurements['fid']) {\n      // create span for FID\n      _startChild(transaction, {\n        description: 'first input delay',\n        endTimestamp: fidMark.value + msToSec(_measurements['fid'].value),\n        op: 'ui.action',\n        startTimestamp: fidMark.value,\n      });\n\n      // Delete mark.fid as we don't want it to be part of final payload\n      delete _measurements['mark.fid'];\n    }\n\n    // If FCP is not recorded we should not record the cls value\n    // according to the new definition of CLS.\n    if (!('fcp' in _measurements)) {\n      delete _measurements.cls;\n    }\n\n    Object.keys(_measurements).forEach(measurementName => {\n      transaction.setMeasurement(\n        measurementName,\n        _measurements[measurementName].value,\n        _measurements[measurementName].unit,\n      );\n    });\n\n    _tagMetricInfo(transaction);\n  }\n\n  _lcpEntry = undefined;\n  _clsEntry = undefined;\n  _measurements = {};\n}\n\n/** Create measure related spans */\nexport function _addMeasureSpans(\n  transaction: Transaction,\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  entry: Record<string, any>,\n  startTime: number,\n  duration: number,\n  timeOrigin: number,\n): number {\n  const measureStartTimestamp = timeOrigin + startTime;\n  const measureEndTimestamp = measureStartTimestamp + duration;\n\n  _startChild(transaction, {\n    description: entry.name as string,\n    endTimestamp: measureEndTimestamp,\n    op: entry.entryType as string,\n    startTimestamp: measureStartTimestamp,\n  });\n\n  return measureStartTimestamp;\n}\n\n/** Instrument navigation entries */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction _addNavigationSpans(transaction: Transaction, entry: Record<string, any>, timeOrigin: number): void {\n  ['unloadEvent', 'redirect', 'domContentLoadedEvent', 'loadEvent', 'connect'].forEach(event => {\n    _addPerformanceNavigationTiming(transaction, entry, event, timeOrigin);\n  });\n  _addPerformanceNavigationTiming(transaction, entry, 'secureConnection', timeOrigin, 'TLS/SSL', 'connectEnd');\n  _addPerformanceNavigationTiming(transaction, entry, 'fetch', timeOrigin, 'cache', 'domainLookupStart');\n  _addPerformanceNavigationTiming(transaction, entry, 'domainLookup', timeOrigin, 'DNS');\n  _addRequest(transaction, entry, timeOrigin);\n}\n\n/** Create performance navigation related spans */\nfunction _addPerformanceNavigationTiming(\n  transaction: Transaction,\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  entry: Record<string, any>,\n  event: string,\n  timeOrigin: number,\n  description?: string,\n  eventEnd?: string,\n): void {\n  const end = eventEnd ? (entry[eventEnd] as number | undefined) : (entry[`${event}End`] as number | undefined);\n  const start = entry[`${event}Start`] as number | undefined;\n  if (!start || !end) {\n    return;\n  }\n  _startChild(transaction, {\n    op: 'browser',\n    description: description || event,\n    startTimestamp: timeOrigin + msToSec(start),\n    endTimestamp: timeOrigin + msToSec(end),\n  });\n}\n\n/** Create request and response related spans */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction _addRequest(transaction: Transaction, entry: Record<string, any>, timeOrigin: number): void {\n  _startChild(transaction, {\n    op: 'browser',\n    description: 'request',\n    startTimestamp: timeOrigin + msToSec(entry.requestStart as number),\n    endTimestamp: timeOrigin + msToSec(entry.responseEnd as number),\n  });\n\n  _startChild(transaction, {\n    op: 'browser',\n    description: 'response',\n    startTimestamp: timeOrigin + msToSec(entry.responseStart as number),\n    endTimestamp: timeOrigin + msToSec(entry.responseEnd as number),\n  });\n}\n\nexport interface ResourceEntry extends Record<string, unknown> {\n  initiatorType?: string;\n  transferSize?: number;\n  encodedBodySize?: number;\n  decodedBodySize?: number;\n  renderBlockingStatus?: string;\n}\n\n/** Create resource-related spans */\nexport function _addResourceSpans(\n  transaction: Transaction,\n  entry: ResourceEntry,\n  resourceName: string,\n  startTime: number,\n  duration: number,\n  timeOrigin: number,\n): void {\n  // we already instrument based on fetch and xhr, so we don't need to\n  // duplicate spans here.\n  if (entry.initiatorType === 'xmlhttprequest' || entry.initiatorType === 'fetch') {\n    return;\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const data: Record<string, any> = {};\n  if ('transferSize' in entry) {\n    data['http.response_transfer_size'] = entry.transferSize;\n  }\n  if ('encodedBodySize' in entry) {\n    data['http.response_content_length'] = entry.encodedBodySize;\n  }\n  if ('decodedBodySize' in entry) {\n    data['http.decoded_response_content_length'] = entry.decodedBodySize;\n  }\n  if ('renderBlockingStatus' in entry) {\n    data['resource.render_blocking_status'] = entry.renderBlockingStatus;\n  }\n\n  const startTimestamp = timeOrigin + startTime;\n  const endTimestamp = startTimestamp + duration;\n\n  _startChild(transaction, {\n    description: resourceName,\n    endTimestamp,\n    op: entry.initiatorType ? `resource.${entry.initiatorType}` : 'resource.other',\n    startTimestamp,\n    data,\n  });\n}\n\n/**\n * Capture the information of the user agent.\n */\nfunction _trackNavigator(transaction: Transaction): void {\n  const navigator = WINDOW.navigator as null | (Navigator & NavigatorNetworkInformation & NavigatorDeviceMemory);\n  if (!navigator) {\n    return;\n  }\n\n  // track network connectivity\n  const connection = navigator.connection;\n  if (connection) {\n    if (connection.effectiveType) {\n      transaction.setTag('effectiveConnectionType', connection.effectiveType);\n    }\n\n    if (connection.type) {\n      transaction.setTag('connectionType', connection.type);\n    }\n\n    if (isMeasurementValue(connection.rtt)) {\n      _measurements['connection.rtt'] = { value: connection.rtt, unit: 'millisecond' };\n    }\n  }\n\n  if (isMeasurementValue(navigator.deviceMemory)) {\n    transaction.setTag('deviceMemory', `${navigator.deviceMemory} GB`);\n  }\n\n  if (isMeasurementValue(navigator.hardwareConcurrency)) {\n    transaction.setTag('hardwareConcurrency', String(navigator.hardwareConcurrency));\n  }\n}\n\n/** Add LCP / CLS data to transaction to allow debugging */\nfunction _tagMetricInfo(transaction: Transaction): void {\n  if (_lcpEntry) {\n    __DEBUG_BUILD__ && logger.log('[Measurements] Adding LCP Data');\n\n    // Capture Properties of the LCP element that contributes to the LCP.\n\n    if (_lcpEntry.element) {\n      transaction.setTag('lcp.element', htmlTreeAsString(_lcpEntry.element));\n    }\n\n    if (_lcpEntry.id) {\n      transaction.setTag('lcp.id', _lcpEntry.id);\n    }\n\n    if (_lcpEntry.url) {\n      // Trim URL to the first 200 characters.\n      transaction.setTag('lcp.url', _lcpEntry.url.trim().slice(0, 200));\n    }\n\n    transaction.setTag('lcp.size', _lcpEntry.size);\n  }\n\n  // See: https://developer.mozilla.org/en-US/docs/Web/API/LayoutShift\n  if (_clsEntry && _clsEntry.sources) {\n    __DEBUG_BUILD__ && logger.log('[Measurements] Adding CLS Data');\n    _clsEntry.sources.forEach((source, index) =>\n      transaction.setTag(`cls.source.${index + 1}`, htmlTreeAsString(source.node)),\n    );\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}